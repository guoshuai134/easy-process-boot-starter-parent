webpackJsonp([2],{"+r4F":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("ymH/"),o={name:"FlowList",data:function(){var t=this;return{modal:!1,context:this,searchForm:{title:""},form:{sid:null,title:"",description:"",backMode:""},columns:[{type:"index",width:60,align:"center"},{title:"流程名称",key:"title",align:"center"},{title:"描述",key:"description",align:"center"},{title:"失败模式",align:"center",key:"backMode",render:function(t,e){return t("span",1===e.row.backMode?"整体失败":"退回上一步")}},{title:"创建时间",key:"created",align:"center"},{title:"更新时间",key:"lastUpdated",align:"center"},{title:"操作",key:"action",width:300,align:"center",render:function(e,n,o){var r=this;return e("div",[e("Button",{props:{type:"primary",size:"small"},style:{marginLeft:"5px"},on:{click:function(){t.$router.push({path:"/flowDesign",query:{sid:n.row.sid}})}}},"设计"),e("Button",{props:{type:"primary",size:"small"},style:{marginLeft:"5px"},on:{click:function(){Object(a.d)(n.row.sid).then(function(e){200===e.data.code?(t.form=e.data.body,t.modal=!0):t.$Message.error(e.data.message)}).catch(function(t){r.$Message.error(t)})}}},"编辑"),e("Button",{props:{type:"error",size:"small"},style:{marginLeft:"5px"},on:{click:function(){t.$Modal.confirm({title:"提示",content:"<p>您确认销毁该流程吗</p>",onOk:function(){Object(a.e)(n.row.sid).then(function(e){200===e.data.code?(t.$Message.success("删除成功"),t.loadData()):t.$Message.error(e.data.message)}).catch(function(e){t.$Message.error(e)})}})}}},"删除")])}}],dataList:[]}},methods:{loadData:function(){var t=this;Object(a.c)(this.searchForm).then(function(e){t.dataList=e.data.body})},handleSubmit:function(){var t=this;Object(a.g)(this.form).then(function(e){200===e.data.code?(t.$Message.success("修改成功"),t.loadData(),t.modal=!1):t.$Message.error(e.data.message)}).catch(function(e){t.$Message.error(e)})}},created:function(){this.loadData()}},r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Form",{staticStyle:{"margin-left":"10px","margin-top":"10px"},attrs:{model:t.searchForm,"label-width":60,inline:!0}},[n("Form-item",{attrs:{label:"流程名称"}},[n("Input",{staticStyle:{width:"200px"},model:{value:t.searchForm.title,callback:function(e){t.$set(t.searchForm,"title",e)},expression:"searchForm.title"}}),t._v(" "),n("Button",{attrs:{type:"primary"},on:{click:t.loadData}},[t._v("搜索")])],1)],1),t._v(" "),n("hr",{staticStyle:{color:"darkgrey"}}),t._v(" "),n("Table",{staticStyle:{"margin-top":"10px"},attrs:{border:"",context:t.context,columns:t.columns,data:t.dataList}}),t._v(" "),n("Modal",{attrs:{title:"编辑流程信息",width:"400px"},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[n("Form",{attrs:{model:t.form,"label-width":60}},[n("FormItem",{staticClass:"input-item",attrs:{label:"名称"}},[n("Input",{staticStyle:{width:"300px"},attrs:{placeholder:""},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),t._v(" "),n("FormItem",{staticClass:"input-item",attrs:{label:"失败模式"}},[n("Select",{staticStyle:{width:"300px"},model:{value:t.form.backMode,callback:function(e){t.$set(t.form,"backMode",e)},expression:"form.backMode"}},[n("Option",{attrs:{value:1}},[t._v("整体失败")]),t._v(" "),n("Option",{attrs:{value:2}},[t._v("退回上一步")])],1)],1),t._v(" "),n("FormItem",{staticClass:"input-item",attrs:{label:"描述"}},[n("Input",{staticStyle:{width:"300px"},attrs:{type:"textarea",rows:5,placeholder:""},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1)],1),t._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("Button",{attrs:{type:"text",size:"large"},on:{click:function(e){t.modal=!1}}},[t._v("取消")]),t._v(" "),n("Button",{attrs:{type:"primary",size:"large"},on:{click:t.handleSubmit}},[t._v("提交")])],1)],1)],1)},staticRenderFns:[]};var s=n("VU/8")(o,r,!1,function(t){n("vzvu")},"data-v-ecfda3b6",null);e.default=s.exports},"+skl":function(t,e){},0:function(t,e,n){n("j1ja"),t.exports=n("NHnr")},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("7+uW"),o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"app"},[e("Menu",{attrs:{mode:"horizontal",theme:"dark","active-name":this.route},on:{"on-select":this.toUrl}},[e("MenuItem",{attrs:{name:"flowList"}},[e("Icon",{attrs:{type:"ios-people"}}),this._v("\n      流程列表\n    ")],1),this._v(" "),e("MenuItem",{attrs:{name:"flowDesign"}},[e("Icon",{attrs:{type:"ios-paper"}}),this._v("\n      流程设计\n    ")],1)],1),this._v(" "),e("router-view")],1)},staticRenderFns:[]};var r=n("VU/8")({name:"App",data:function(){return{route:"flowList"}},watch:{$route:{handler:function(t){this.route=t.name},immediate:!0}},methods:{toUrl:function(t){this.route=t.replace("/",""),this.$router.push({path:t})}}},o,!1,function(t){n("WAn4")},null,null).exports,s=n("/ocq"),i=n("+r4F");a.default.use(s.a);var c=new s.a({routes:[{path:"/",name:"FlowDesign",component:i.default},{path:"/flowDesign",name:"flowDesign",component:function(){return n.e(0).then(n.bind(null,"ZONA"))}},{path:"/flowList",name:"flowList",component:function(){return new Promise(function(t){t()}).then(n.bind(null,"+r4F"))}}]}),l=n("BTaQ"),u=n.n(l);n("+skl");a.default.config.productionTip=!1,a.default.use(u.a),new a.default({el:"#app",router:c,components:{App:r},template:"<App/>"})},WAn4:function(t,e){},vzvu:function(t,e){},"ymH/":function(t,e,n){"use strict";e.a=function(t){return o.a.post("/easy/process/deploy",t)},e.c=function(t){return o.a.get("/easy/process/find",{params:t})},e.b=function(t){return o.a.get("/easy/process/design/"+t)},e.d=function(t){return o.a.get("/easy/process/detail/"+t)},e.g=function(t){return o.a.post("/easy/process/update",t)},e.f=function(t){return o.a.post("/easy/process/reset",t)},e.e=function(t){return o.a.delete("/easy/process/"+t)};var a=n("mtWM"),o=n.n(a)}},[0]);
//# sourceMappingURL=app.00e52bd30b3d86083014.js.map